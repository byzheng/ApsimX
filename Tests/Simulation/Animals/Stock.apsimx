<?xml version="1.0" encoding="utf-8"?>
<Simulations xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Version="32">
  <Name>Simulations</Name>
  <Memo>
    <Name>TitlePage</Name>
    <IncludeInDocumentation>true</IncludeInDocumentation>
    <Enabled>true</Enabled>
    <MemoText><![CDATA[# The APSIM Stock model

This is the documenation for the stock model.]]></MemoText>
  </Memo>
  <Folder>
    <Name>Management Examples</Name>
    <Folder>
      <Name>Stocking Rates</Name>
      <Simulation>
        <Name>Farm</Name>
        <Clock>
          <Name>Clock</Name>
          <IncludeInDocumentation>false</IncludeInDocumentation>
          <Enabled>true</Enabled>
          <StartDate>1999-01-01T00:00:00</StartDate>
          <EndDate>2000-12-31T00:00:00</EndDate>
        </Clock>
        <Summary>
          <Name>SummaryFile</Name>
          <IncludeInDocumentation>false</IncludeInDocumentation>
          <Enabled>true</Enabled>
        </Summary>
        <Weather>
          <Name>Weather</Name>
          <IncludeInDocumentation>false</IncludeInDocumentation>
          <Enabled>true</Enabled>
          <FileName>Dalby.met</FileName>
          <ExcelWorkSheetName />
        </Weather>
        <Zone>
          <Name>Feedlot</Name>
          <Report>
            <Name>Report</Name>
            <IncludeInDocumentation>false</IncludeInDocumentation>
            <Enabled>true</Enabled>
            <ExperimentFactorNames />
            <ExperimentFactorValues />
            <VariableNames>
              <string>[Clock].Today</string>
            </VariableNames>
            <EventNames>
              <string />
            </EventNames>
          </Report>
          <Soil>
            <Name>Soil</Name>
            <Water>
              <Name>Water</Name>
              <SoilCrop>
                <Name>WheatSoil</Name>
                <IncludeInDocumentation>false</IncludeInDocumentation>
                <Enabled>true</Enabled>
                <LL>
                  <double>0.261</double>
                  <double>0.248</double>
                  <double>0.28</double>
                  <double>0.306</double>
                  <double>0.36</double>
                  <double>0.392</double>
                  <double>0.446</double>
                </LL>
                <KL>
                  <double>0.06</double>
                  <double>0.06</double>
                  <double>0.06</double>
                  <double>0.04</double>
                  <double>0.04</double>
                  <double>0.02</double>
                  <double>0.01</double>
                </KL>
                <XF>
                  <double>1</double>
                  <double>1</double>
                  <double>1</double>
                  <double>1</double>
                  <double>1</double>
                  <double>1</double>
                  <double>1</double>
                </XF>
              </SoilCrop>
              <IncludeInDocumentation>false</IncludeInDocumentation>
              <Enabled>true</Enabled>
              <Thickness>
                <double>150</double>
                <double>150</double>
                <double>300</double>
                <double>300</double>
                <double>300</double>
                <double>300</double>
                <double>300</double>
              </Thickness>
              <BD>
                <double>1.01056473311131</double>
                <double>1.07145631083388</double>
                <double>1.09393858528057</double>
                <double>1.15861335018721</double>
                <double>1.17301160318016</double>
                <double>1.16287303586874</double>
                <double>1.18749547755906</double>
              </BD>
              <AirDry>
                <double>0.130250054518252</double>
                <double>0.198689390775399</double>
                <double>0.28</double>
                <double>0.28</double>
                <double>0.28</double>
                <double>0.28</double>
                <double>0.28</double>
              </AirDry>
              <LL15>
                <double>0.260500109036505</double>
                <double>0.248361738469248</double>
                <double>0.28</double>
                <double>0.28</double>
                <double>0.28</double>
                <double>0.28</double>
                <double>0.28</double>
              </LL15>
              <DUL>
                <double>0.52100021807301</double>
                <double>0.496723476938497</double>
                <double>0.488437607673005</double>
                <double>0.480296969355493</double>
                <double>0.471583596524955</double>
                <double>0.457070570557793</double>
                <double>0.452331759845006</double>
              </DUL>
              <SAT>
                <double>0.588654817693846</double>
                <double>0.565676863836273</double>
                <double>0.557192986686577</double>
                <double>0.532787415023694</double>
                <double>0.527354112007486</double>
                <double>0.531179986464627</double>
                <double>0.521888499034317</double>
              </SAT>
              <KS>
                <double>20</double>
                <double>20</double>
                <double>20</double>
                <double>20</double>
                <double>20</double>
                <double>20</double>
                <double>20</double>
              </KS>
            </Water>
            <SoilWater>
              <Name>SoilWater</Name>
              <IncludeInDocumentation>false</IncludeInDocumentation>
              <Enabled>true</Enabled>
              <SummerDate>1-Nov</SummerDate>
              <SummerU>5</SummerU>
              <SummerCona>5</SummerCona>
              <WinterDate>1-Apr</WinterDate>
              <WinterU>5</WinterU>
              <WinterCona>5</WinterCona>
              <DiffusConst>40</DiffusConst>
              <DiffusSlope>16</DiffusSlope>
              <Salb>0.12</Salb>
              <CN2Bare>73</CN2Bare>
              <CNRed>20</CNRed>
              <CNCov>0.8</CNCov>
              <slope>NaN</slope>
              <discharge_width>NaN</discharge_width>
              <catchment_area>NaN</catchment_area>
              <max_pond>0</max_pond>
              <Thickness>
                <double>150</double>
                <double>150</double>
                <double>300</double>
                <double>300</double>
                <double>300</double>
                <double>300</double>
                <double>300</double>
              </Thickness>
              <SWCON>
                <double>0.3</double>
                <double>0.3</double>
                <double>0.3</double>
                <double>0.3</double>
                <double>0.3</double>
                <double>0.3</double>
                <double>0.3</double>
              </SWCON>
              <ResidueInterception>0</ResidueInterception>
            </SoilWater>
            <SoilNitrogen>
              <Name>SoilNitrogen</Name>
              <IncludeInDocumentation>false</IncludeInDocumentation>
              <Enabled>true</Enabled>
              <fom_type>
                <string>default</string>
                <string>manure</string>
                <string>mucuna</string>
                <string>lablab</string>
                <string>shemp</string>
                <string>stable</string>
              </fom_type>
              <fract_carb>
                <double>0.2</double>
                <double>0.3</double>
                <double>0.54</double>
                <double>0.57</double>
                <double>0.45</double>
                <double>0</double>
              </fract_carb>
              <fract_cell>
                <double>0.7</double>
                <double>0.3</double>
                <double>0.37</double>
                <double>0.37</double>
                <double>0.47</double>
                <double>0.1</double>
              </fract_cell>
              <fract_lign>
                <double>0.1</double>
                <double>0.4</double>
                <double>0.09</double>
                <double>0.06</double>
                <double>0.08</double>
                <double>0.9</double>
              </fract_lign>
            </SoilNitrogen>
            <SoilOrganicMatter>
              <Name>SoilOrganicMatter</Name>
              <IncludeInDocumentation>false</IncludeInDocumentation>
              <Enabled>true</Enabled>
              <RootCN>40</RootCN>
              <RootWt>1000</RootWt>
              <SoilCN>12</SoilCN>
              <EnrACoeff>7.4</EnrACoeff>
              <EnrBCoeff>0.2</EnrBCoeff>
              <Thickness>
                <double>150</double>
                <double>150</double>
                <double>300</double>
                <double>300</double>
                <double>300</double>
                <double>300</double>
                <double>300</double>
              </Thickness>
              <Depth>
                <string>0-15</string>
                <string>15-30</string>
                <string>30-60</string>
                <string>60-90</string>
                <string>90-120</string>
                <string>120-150</string>
                <string>150-180</string>
              </Depth>
              <OC>
                <double>1.2</double>
                <double>0.96</double>
                <double>0.6</double>
                <double>0.3</double>
                <double>0.18</double>
                <double>0.12</double>
                <double>0.12</double>
              </OC>
              <FBiom>
                <double>0.04</double>
                <double>0.02</double>
                <double>0.02</double>
                <double>0.02</double>
                <double>0.01</double>
                <double>0.01</double>
                <double>0.01</double>
              </FBiom>
              <FInert>
                <double>0.4</double>
                <double>0.6</double>
                <double>0.8</double>
                <double>1</double>
                <double>1</double>
                <double>1</double>
                <double>1</double>
              </FInert>
              <OCUnits>Total</OCUnits>
            </SoilOrganicMatter>
            <Analysis>
              <Name>Analysis</Name>
              <IncludeInDocumentation>false</IncludeInDocumentation>
              <Enabled>true</Enabled>
              <Thickness>
                <double>150</double>
                <double>150</double>
                <double>300</double>
                <double>300</double>
                <double>300</double>
                <double>300</double>
                <double>300</double>
              </Thickness>
              <PH>
                <double>8</double>
                <double>8</double>
                <double>8</double>
                <double>8</double>
                <double>8</double>
                <double>8</double>
                <double>8</double>
              </PH>
              <PHUnits>Water</PHUnits>
              <BoronUnits>HotWater</BoronUnits>
            </Analysis>
            <InitialWater>
              <Name>InitialWater</Name>
              <IncludeInDocumentation>false</IncludeInDocumentation>
              <Enabled>true</Enabled>
              <PercentMethod>EvenlyDistributed</PercentMethod>
              <FractionFull>1</FractionFull>
              <DepthWetSoil>NaN</DepthWetSoil>
            </InitialWater>
            <Sample>
              <Name>InitialN</Name>
              <IncludeInDocumentation>false</IncludeInDocumentation>
              <Enabled>true</Enabled>
              <Thickness>
                <double>150</double>
                <double>150</double>
                <double>300</double>
                <double>300</double>
                <double>300</double>
                <double>300</double>
                <double>300</double>
              </Thickness>
              <NO3>
                <double>1</double>
                <double>1</double>
                <double>1</double>
                <double>1</double>
                <double>1</double>
                <double>1</double>
                <double>1</double>
              </NO3>
              <NH4>
                <double>0.1</double>
                <double>0.1</double>
                <double>0.1</double>
                <double>0.1</double>
                <double>0.1</double>
                <double>0.1</double>
                <double>0.1</double>
              </NH4>
              <SW>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
              </SW>
              <OC>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
              </OC>
              <EC>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
              </EC>
              <CL>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
              </CL>
              <ESP>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
              </ESP>
              <PH>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
                <double>NaN</double>
              </PH>
              <NO3Units>ppm</NO3Units>
              <NH4Units>ppm</NH4Units>
              <SWUnits>Volumetric</SWUnits>
              <OCUnits>Total</OCUnits>
              <PHUnits>Water</PHUnits>
            </Sample>
            <CERESSoilTemperature>
              <Name>CERESSoilTemperature</Name>
              <IncludeInDocumentation>false</IncludeInDocumentation>
              <Enabled>true</Enabled>
            </CERESSoilTemperature>
            <IncludeInDocumentation>false</IncludeInDocumentation>
            <Enabled>true</Enabled>
            <RecordNumber>0</RecordNumber>
            <ASCOrder>Vertosol</ASCOrder>
            <ASCSubOrder>Black</ASCSubOrder>
            <SoilType>Clay</SoilType>
            <LocalName />
            <Site>Norwin</Site>
            <NearestTown>Norwin</NearestTown>
            <Region>Darling Downs and Granite Belt</Region>
            <State>Queensland</State>
            <Country>Australia</Country>
            <NaturalVegetation>Qld. Bluegrass, possible Qld. Blue gum</NaturalVegetation>
            <ApsoilNumber>900</ApsoilNumber>
            <Latitude>-27.581836</Latitude>
            <Longitude>151.320206</Longitude>
            <LocationAccuracy> +/- 20m</LocationAccuracy>
            <DataSource>CSIRO Sustainable Ecosystems, Toowoomba; Characteriesd as part of the GRDC funded project"Doing it better, doing it smarter, managing soil water in Australian agriculture' 2011</DataSource>
            <Comments>OC, CLL for all crops estimated-based on Bongeen Mywybilla Soil No1</Comments>
          </Soil>
          <SurfaceOrganicMatter>
            <Name>SurfaceOrganicMatter</Name>
            <IncludeInDocumentation>false</IncludeInDocumentation>
            <Enabled>true</Enabled>
            <ResidueTypes>
              <Name>ResidueTypes</Name>
              <IncludeInDocumentation>true</IncludeInDocumentation>
              <Enabled>true</Enabled>
              <LoadFromResource>ResidueTypes</LoadFromResource>
            </ResidueTypes>
            <Pools>
              <Pool>
                <PoolName>wheat_stubble</PoolName>
                <ResidueType>wheat</ResidueType>
                <Mass>0</Mass>
                <CNRatio>100</CNRatio>
                <CPRatio>NaN</CPRatio>
                <StandingFraction>0</StandingFraction>
              </Pool>
            </Pools>
            <PoolName>wheat_stubble</PoolName>
            <type>wheat</type>
            <mass>0</mass>
            <standing_fraction>0</standing_fraction>
            <cpr />
            <cnr>100</cnr>
            <CriticalResidueWeight>2000</CriticalResidueWeight>
            <OptimumDecompTemp>20</OptimumDecompTemp>
            <MaxCumulativeEOS>20</MaxCumulativeEOS>
            <CNRatioDecompCoeff>0.277</CNRatioDecompCoeff>
            <CNRatioDecompThreshold>25</CNRatioDecompThreshold>
            <TotalLeachRain>25</TotalLeachRain>
            <MinRainToLeach>10</MinRainToLeach>
            <CriticalMinimumOrganicC>0.004</CriticalMinimumOrganicC>
            <DefaultCPRatio>0</DefaultCPRatio>
            <DefaultStandingFraction>0</DefaultStandingFraction>
            <StandingExtinctCoeff>0.5</StandingExtinctCoeff>
            <FractionFaecesAdded>0.5</FractionFaecesAdded>
          </SurfaceOrganicMatter>
          <MicroClimate>
            <Name>MicroClimate</Name>
            <IncludeInDocumentation>false</IncludeInDocumentation>
            <Enabled>true</Enabled>
            <a_interception>0</a_interception>
            <b_interception>1</b_interception>
            <c_interception>0</c_interception>
            <d_interception>0</d_interception>
            <soil_albedo>0.3</soil_albedo>
            <sun_angle>15</sun_angle>
            <soil_heat_flux_fraction>0.4</soil_heat_flux_fraction>
            <night_interception_fraction>0.5</night_interception_fraction>
            <refheight>2</refheight>
            <albedo>0.15</albedo>
            <emissivity>0.96</emissivity>
            <RadIntTotal>0</RadIntTotal>
          </MicroClimate>
          <SoluteManager>
            <Name>SoluteManager</Name>
            <IncludeInDocumentation>false</IncludeInDocumentation>
            <Enabled>true</Enabled>
          </SoluteManager>
          <IncludeInDocumentation>false</IncludeInDocumentation>
          <Enabled>true</Enabled>
          <Area>10</Area>
          <Slope>0</Slope>
        </Zone>
        <Supplement>
          <Name>Supplement</Name>
          <IncludeInDocumentation>false</IncludeInDocumentation>
          <Enabled>true</Enabled>
          <SpoilageTime>0</SpoilageTime>
          <Stores>
            <StoreType>
              <IsRoughage>true</IsRoughage>
              <DMContent>0.85</DMContent>
              <DMD>0</DMD>
              <MEContent>0</MEContent>
              <CPConc>0</CPConc>
              <ProtDg>0</ProtDg>
              <PConc>0</PConc>
              <SConc>0</SConc>
              <EEConc>0</EEConc>
              <ADIP2CP>0</ADIP2CP>
              <AshAlk>0</AshAlk>
              <MaxPassage>0</MaxPassage>
              <Name>fodder</Name>
              <Stored>0</Stored>
            </StoreType>
            <StoreType>
              <IsRoughage>false</IsRoughage>
              <DMContent>0.89</DMContent>
              <DMD>0.9</DMD>
              <MEContent>13.8</MEContent>
              <CPConc>0.14</CPConc>
              <ProtDg>0.92</ProtDg>
              <PConc>0.0038</PConc>
              <SConc>0.0014000000000000002</SConc>
              <EEConc>0.02</EEConc>
              <ADIP2CP>0.02</ADIP2CP>
              <AshAlk>0.18</AshAlk>
              <MaxPassage>0</MaxPassage>
              <Name>wheat, crushed</Name>
              <Stored>500000</Stored>
            </StoreType>
          </Stores>
          <PaddockList />
        </Supplement>
        <Stock>
          <Name>Stock</Name>
          <IncludeInDocumentation>false</IncludeInDocumentation>
          <Enabled>true</Enabled>
          <RandSeed>9999</RandSeed>
          <GenoTypes />
          <Sheep />
          <Cattle />
          <PaddockList>
            <PaddockInit>
              <Forages />
              <Name />
              <Area>1</Area>
              <Slope>0</Slope>
            </PaddockInit>
          </PaddockList>
          <EnterpriseList />
          <GrazingPeriods />
        </Stock>
        <Manager>
          <Name>BuySell</Name>
          <IncludeInDocumentation>false</IncludeInDocumentation>
          <Enabled>true</Enabled>
          <Script>
            <dateToBuySell>10</dateToBuySell>
            <stockRate>11</stockRate>
            <sale_propn>12</sale_propn>
            <no_to_buy>13</no_to_buy>
            <w>.Simulations.Management Examples.Stocking Rates.Farm.Feedlot.Soil</w>
          </Script>
          <Code><![CDATA[using System;
using Models.Core;
using Models.Utilities;
using Models.GrazPlan;
using APSIM.Shared.Utilities;
using Models.Interfaces;

namespace Models
{
    [Serializable]
    public class Script : Model
    {
        [Link] Clock Calendar;
        [Link] Stock Animals;
        [Link] Supplement Feed;
        [Link] Simulation Farm;

        [Separator("Category1")]

        [Description("Number of young stock to purchase")]
        public string dateToBuySell { get; set;}

        [Description("Stocking rate (wethers/property ha)")]
        public double stockRate { get; set;}

        [Separator("Category2")]

        [Description("Proportion of mature animals to sell")]
        public double sale_propn { get; set;}

        [Description("Number of young stock to purchase")]
        public double no_to_buy { get; set;}

        [Description("Model name")]
        [Display(Type=DisplayType.Model/*,
                 ModelType=typeof(Weather)*/)]
        public IModel w {get; set; }

        [EventSubscribe("DoManagement")]
        private void OnDoManagement(object sender, EventArgs e)
        {
            // purchase animals annually
            if (DateUtilities.DatesEqual(dateToBuySell, Calendar.Today))
            {
	            for (int i = 1; i <= Animals.NoGroups; i++)
	 			{
	 				// Are the i’th group older than 3 years?
	 				if (Animals.AgeMonths[i] > 36) 
	 				{
	 					// Then sell some
	 					int numToSell = Convert.ToInt32(sale_propn*Animals.Number[i]);
	 					Animals.Sell(group: i, 
	 								 number: numToSell); 
	 				}
				}

	 			// Acquire young replacement stock immediately
	 			Animals.Buy(genotype: "Small Merino", 
	 						number: stockRate * Farm.Area - Animals.NumberAll, 
	 						sex: "wethers", 
	 						age: 15.0, 
	 						weight: 48.0, 
	 						fleeceWeight: 0.40);
			}
        }
    }
}
]]></Code>
        </Manager>
        <Report>
          <Name>Report</Name>
          <IncludeInDocumentation>false</IncludeInDocumentation>
          <Enabled>true</Enabled>
          <ExperimentFactorNames />
          <ExperimentFactorValues />
          <VariableNames>
            <string>[Clock].Today</string>
            <string>[Stock].Number[1]</string>
            <string>[Stock].NumberAll</string>
            <string>[Stock].Weight[1]</string>
            <string>[Stock].WeightAll</string>
            <string>[Stock].CondScoreAll</string>
            <string>[Stock].CondScore[1]</string>
            <string>[Stock].FleeceWt[1]</string>
            <string>[Stock].FibreDiam[1]</string>
            <string>[Stock].DSEAll</string>
            <string>[Stock].Intake[1].weight</string>
            <string>[Stock].Intake[1].n</string>
            <string>[Stock].Intake[1].p</string>
            <string>[Stock].Intake[1].s</string>
            <string>[Stock].Intake[1].ash_alk</string>
            <string>[Stock].UrineN[1]</string>
            <string>[Stock].Methane[1]</string>
            <string>[Supplement].stores[2].Name</string>
            <string>[Supplement].stores[2].Stored</string>
          </VariableNames>
          <EventNames>
            <string>[Clock].EndOfDay</string>
          </EventNames>
        </Report>
        <IncludeInDocumentation>false</IncludeInDocumentation>
        <Enabled>true</Enabled>
      </Simulation>
      <IncludeInDocumentation>true</IncludeInDocumentation>
      <Enabled>true</Enabled>
      <ShowPageOfGraphs>true</ShowPageOfGraphs>
    </Folder>
    <IncludeInDocumentation>true</IncludeInDocumentation>
    <Enabled>true</Enabled>
    <ShowPageOfGraphs>true</ShowPageOfGraphs>
  </Folder>
  <DataStore>
    <Name>DataStore</Name>
    <IncludeInDocumentation>false</IncludeInDocumentation>
    <Enabled>true</Enabled>
  </DataStore>
  <IncludeInDocumentation>true</IncludeInDocumentation>
  <Enabled>true</Enabled>
  <ExplorerWidth>300</ExplorerWidth>
</Simulations>